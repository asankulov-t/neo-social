(this["webpackJsonpneo-social"]=this["webpackJsonpneo-social"]||[]).push([[0],{17:function(e,t,s){e.exports={wallpict:"Profile_wallpict__2ikZf",ava:"Profile_ava__3iRdQ",about:"Profile_about__3wvmg",info:"Profile_info__M55Jm"}},20:function(e,t,s){e.exports={header:"Header_header__yq7DA",ul:"Header_ul__clIVo",li:"Header_li__1aM2Y"}},23:function(e,t,s){e.exports={cart:"User_cart__SmJv7",s:"User_s__12tVB",selected:"User_selected__23s74",loader:"User_loader__1wXp3"}},28:function(e,t,s){e.exports={login:"Login_login__3p98m",check:"Login_check__2yQGi",error:"Login_error__1d7al"}},33:function(e,t,s){e.exports={post:"Posts_post__8yfIf",reaction:"Posts_reaction__1ihoC"}},34:function(e,t,s){e.exports={dialogsItems:"DialogItem_dialogsItems__1GXT4"}},35:function(e,t,s){e.exports={messages:"Message_messages__1yPf5"}},48:function(e,t,s){e.exports={posts:"MyPosts_posts__3Aa17"}},49:function(e,t,s){e.exports={text:"TextAreaButton_text__3VXHa",error:"TextAreaButton_error__3MrrZ"}},50:function(e,t,s){e.exports={loader:"Loader_loader__3x2eb"}},51:function(e,t,s){e.exports={dialogs:"Dialog_dialogs__eECuR"}},57:function(e,t,s){},58:function(e,t,s){},85:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(26),a=s.n(c),i=(s(57),s(58),s(20)),r=s.n(i),o=s(7),l=s(3),u=s(2),j=s(46),d=s.n(j).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"c52651a7-580b-433b-99e3-876a6eb54318"}}),b=function(e,t){return d.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},f=function(e){return d.post("follow/".concat(e)).then((function(e){return e.data}))},O=function(e){return d.delete("follow/".concat(e)).then((function(e){return e.data}))},h=function(e,t){return d.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},m=function(e){return d.get("profile/".concat(e)).then((function(e){return e.data}))},p=function(e){return d.get("profile/status/".concat(e)).then((function(e){return e.data}))},x=function(e){return d.put("/profile/status",{status:e})},g=function(){return d.get("auth/me").then((function(e){return e.data}))},v=function(e,t,s){return d.post("auth/login",{email:e,password:t,rememberMe:s})},_=function(){return d.delete("auth/login")},N={userId:null,email:null,login:null,isAuth:!1},S=function(e,t,s,n){return{type:"SET_USER_DATA",data:{userId:e,email:t,login:s,isAuth:n}}},w=function(e,t,s){return function(n){v(e,t,s).then((function(e){var t;0==e.data.resultCode&&n((t=!0,function(e){g().then((function(s){if(0===s.resultCode){var n=s.data,c=n.id,a=n.email,i=n.login;e(S(c,a,i,t))}}))}))}))}},k=s(0),A=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.AuthReducer}));return Object(k.jsxs)("header",{className:"".concat(r.a.header," fixed-top"),children:[Object(k.jsx)(o.b,{to:"#",children:Object(k.jsx)("h2",{children:"NEO"})}),Object(k.jsx)("nav",{className:r.a.nav,children:Object(k.jsxs)("ul",{className:r.a.ul,children:[Object(k.jsx)("li",{className:r.a.li,children:Object(k.jsx)(o.b,{to:"login",children:!0===t.isAuth?t.login:Object(k.jsx)("span",{children:Object(k.jsx)("i",{className:"fas fa-sign-out-alt"})})})}),Object(k.jsx)("li",{className:r.a.li,children:Object(k.jsx)(o.b,{to:t.isAuth?"profile":"login",children:!0===t.isAuth?Object(k.jsx)("span",{onClick:function(){e((function(e){_().then((function(t){0===t.data.resultCode&&e(S(null,null,null,!1))}))}))},children:Object(k.jsx)("i",{className:"fas fa-running"})}):"login"})})]})})]})},T=s(9),E=s.n(T),y=function(){return Object(k.jsx)("div",{children:Object(k.jsx)("nav",{className:"".concat(E.a.nav," "),children:Object(k.jsxs)("ul",{className:E.a.ul,children:[Object(k.jsx)("li",{className:E.a.li,children:Object(k.jsxs)(o.b,{activeClassName:E.a.active,to:"/profile",children:[Object(k.jsx)("i",{className:"fas fa-user"}),Object(k.jsx)("span",{children:"Profile"})]})}),Object(k.jsx)("li",{className:E.a.li,children:Object(k.jsxs)(o.b,{activeClassName:E.a.active,to:"/messages",children:[Object(k.jsx)("i",{className:"fas fa-envelope"}),Object(k.jsx)("span",{children:"Messages"})]})}),Object(k.jsx)("li",{className:E.a.li,children:Object(k.jsxs)(o.b,{activeClassName:E.a.active,to:"/news",children:[Object(k.jsx)("i",{className:"fas fa-newspaper"}),Object(k.jsx)("span",{children:"News"})]})}),Object(k.jsx)("li",{className:E.a.li,children:Object(k.jsxs)(o.b,{activeClassName:E.a.active,to:"/music",children:[Object(k.jsx)("i",{className:"fas fa-music"}),Object(k.jsx)("span",{children:"Music"})]})}),Object(k.jsx)("li",{className:E.a.li,children:Object(k.jsxs)(o.b,{activeClassName:E.a.active,to:"/setting",children:[Object(k.jsx)("i",{className:"fas fa-tools"}),Object(k.jsx)("span",{children:"Setting"})]})}),Object(k.jsx)("li",{className:E.a.li,children:Object(k.jsxs)(o.b,{activeClassName:E.a.active,to:"/Users",children:[Object(k.jsx)("i",{className:"fas fa-users"}),Object(k.jsx)("span",{children:"Users"})]})})]})})})},C=s(17),R=s.n(C),P=s(5),L={posts:[{id:1,post:"Hello world",likeCount:5,dislike:3},{id:2,post:"I want to be in USA",likeCount:55,dislike:0},{id:3,post:"I am learning js all time",likeCount:667,dislike:0},{id:4,post:"social network is evil",likeCount:856,dislike:800},{id:5,post:"Hello friend lets walk",likeCount:1250,dislike:1},{id:6,post:"It incubator is best courses",likeCount:1591,dislike:0}],profile:null,status:"as"},I=function(e){return{type:"GET_STATUS",status:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var s={id:55,post:t.messageText,likeCount:0,dislike:0};return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(P.a)(e.posts),[s])});case"SET_PROFILE":return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case"GET_STATUS":return Object(u.a)(Object(u.a)({},e),{},{status:t.status});default:return e}},D=s(33),M=s.n(D),U=function(e){return Object(k.jsxs)("div",{className:M.a.post,children:[Object(k.jsx)("img",{src:"https://i0.wp.com/jasonstatham.org/wp-content/uploads/2021/08/1.jpg?resize=800%2C400&ssl=1",alt:""}),Object(k.jsx)("p",{children:e.postText}),Object(k.jsxs)("div",{className:M.a.reaction,children:[Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"far fa-thumbs-up"})," ",e.like]}),Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"far fa-thumbs-down"})," ",e.dislike]})]})]})},B=s(48),G=s.n(B),H=s(27),J=s(49),q=s.n(J),W=function(e){var t,s=Object(H.a)(),n=s.register,c=s.reset,a=s.formState.errors,i=s.handleSubmit;return Object(k.jsxs)("form",{className:q.a.text,onSubmit:i((function(t){console.log(t);var s=t.message;s&&(e.callBack(s),c())})),children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("textarea",Object(u.a)({placeholder:e.message},n("message",{required:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"}))),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("p",{children:null===a||void 0===a||null===(t=a.message)||void 0===t?void 0:t.message})})]}),Object(k.jsx)("input",{value:e.title,type:"submit"})]})},z=function(e){var t=e.postData.map((function(e){return Object(k.jsx)(U,{postText:e.post,like:e.likeCount,dislike:e.dislike},e.id)})).reverse();return Object(k.jsxs)("div",{className:G.a.posts,children:["My posts",Object(k.jsx)("div",{children:Object(k.jsx)(W,{title:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c",message:"New post",callBack:e.addPost})}),Object(k.jsx)("div",{children:t})]})},Q=function(){var e=Object(l.c)((function(e){return e.profileReducer.posts})),t=Object(l.b)();return Object(k.jsx)(z,{postData:e,addPost:function(e){t({type:"ADD_POST",messageText:e})}})},V=s.p+"static/media/ava.689a452b.jpg",X=s(15),Y=function(e){var t=Object(n.useState)(!1),s=Object(X.a)(t,2),c=s[0],a=s[1],i=Object(n.useState)(e.status?e.status:""),r=Object(X.a)(i,2),o=r[0],l=r[1];return Object(k.jsxs)("div",{children:[!c&&Object(k.jsx)("p",{onDoubleClick:function(){a(!0)},children:e.status?e.status:"empty status"}),c&&Object(k.jsx)("input",{onChange:function(e){return function(e){l(e.currentTarget.value)}(e)},onBlur:function(){a(!1),e.updateSt(o),l("")},className:"form-control",type:"text",value:o||"empty status"})]})},Z=function(e){var t=Object(u.a)({},e.profile);return Object(k.jsxs)("div",{children:[Object(k.jsx)("img",{className:R.a.wallpict,src:"https://www.bergfreunde.eu/out/pictures/promo/picture_brandshop_1440x490_4.jpg",alt:""}),Object(k.jsxs)("div",{className:R.a.about,children:[Object(k.jsx)("img",{className:R.a.ava,src:t.photos.large?t.photos.large:V,alt:null!=t.fullName?t.fullName:"Photo"}),Object(k.jsxs)("div",{className:R.a.info,children:[Object(k.jsx)("p",{children:t.fullName}),Object(k.jsx)("p",{children:t.aboutMe}),Object(k.jsx)(Y,{updateSt:e.updateSt,status:e.status}),Object(k.jsx)("p",{children:Object(k.jsx)("a",{href:null!=t.contacts.facebook?"https://"+t.contacts.facebook:"",target:"_self",children:t.contacts.facebook?"Facebook":null})})]})]})]})},K=s(50),$=s.n(K),ee=function(){return Object(k.jsx)("div",{className:$.a.loader,children:Object(k.jsx)("img",{src:"https://homehardware.sirv.com/resources/images/loading-image.gif",alt:""})})},te=s(8),se=Object(te.f)((function(e){var t=e.match,s=Object(l.b)();Object(n.useEffect)((function(){var e,n=t.params.userId;n||(n=14328),s((e=n,function(t){m(e).then((function(e){setTimeout((function(){t({type:"SET_PROFILE",profile:e})}),500)}))})),s(function(e){return function(t){p(e).then((function(e){t(I(e))}))}}(n))}),[]);var c=Object(l.c)((function(e){return e.profileReducer.profile})),a=Object(l.c)((function(e){return e.AuthReducer.isAuth})),i=Object(l.c)((function(e){return e.profileReducer.status}));return console.log(c),a?Object(k.jsxs)("div",{className:R.a.content,children:[c?Object(k.jsx)(Z,{status:i,updateSt:function(e){s(function(e){return function(t){x(e).then((function(s){0==s.data.resultCode&&t(I(e))}))}}(e))},profile:c}):Object(k.jsx)(ee,{}),Object(k.jsx)(Q,{})]}):Object(k.jsx)(te.a,{to:"/login"})})),ne={dialogs:[{id:1,name:"Arken"},{id:2,name:"Adil"},{id:3,name:"Miron"},{id:4,name:"John"},{id:5,name:"Ledy Gaga"},{id:6,name:"Johny"}],messages:[{id:1,message:"Hello"},{id:2,message:"How was your day?"},{id:3,message:"Can I help you"},{id:4,message:"See you at school"},{id:5,message:"React Is best Framework"},{id:6,message:"You must learn Js"}]},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;if("SEND_MESSAGE"===t.type){var s={id:8958,message:t.messageText};return Object(u.a)(Object(u.a)({},e),{},{messages:[].concat(Object(P.a)(e.messages),[s])})}return e},ae=s(51),ie=s.n(ae),re=s(34),oe=s.n(re),le=function(e){var t=e.dialogs.map((function(e){return Object(k.jsx)("div",{className:oe.a.item,children:Object(k.jsx)(o.b,{to:"/messages/".concat(e.id),children:e.name})},e.id)}));return Object(k.jsx)("div",{className:oe.a.dialogsItems,children:t})},ue=s(35),je=s.n(ue),de=function(e){var t=e.messageData.map((function(e){return Object(k.jsx)("div",{className:je.a.message,children:e.message},e.id)}));return Object(k.jsxs)("div",{className:"col-9 ".concat(je.a.messages),children:[t,Object(k.jsx)("div",{children:Object(k.jsx)(W,{title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",message:"message",callBack:function(t){e.sendMessage(t)}})})]})},be=function(e){return Object(l.c)((function(e){return e.AuthReducer.isAuth}))?Object(k.jsxs)("div",{className:"row ".concat(ie.a.dialogs),children:[Object(k.jsx)("div",{className:"col-3",children:Object(k.jsx)(le,{dialogs:e.dilogsData.dialogs})}),Object(k.jsx)(de,{messageData:e.dilogsData.messages,sendMessage:e.sendMessage})]}):Object(k.jsx)(te.a,{to:"/login"})},fe=function(){var e=Object(l.c)((function(e){return e.dialogReducer})),t=Object(l.b)();return Object(k.jsx)(be,{dilogsData:e,sendMessage:function(e){t({type:"SEND_MESSAGE",messageText:e})}})},Oe=s(23),he=s.n(Oe),me=function(e){return Object(k.jsx)("div",{className:he.a.cart,children:e.users.map((function(t){return Object(k.jsxs)("div",{className:he.a.s,children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(o.b,{to:"/profile/".concat(t.id),children:Object(k.jsx)("img",{src:null===t.photos.small?V:t.photos.small,alt:""})}),Object(k.jsx)("h3",{children:t.name}),Object(k.jsx)("h4",{children:t.status})]}),Object(k.jsx)("button",{onClick:!0===t.followed?function(){return e.unfallowFn(t.id)}:function(){return e.fallowFn(t.id)},children:!0===t.followed?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]})}))})},pe={users:[],currentPage:1,total:0,pageSize:15,isFetching:!0},xe=function(e){return{type:"SET_USERS",users:e}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FALLOW":var s=Object(u.a)(Object(u.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{followed:!0}):e}))});return s;case"UNFALLOW":var n=Object(u.a)(Object(u.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{followed:!1}):e}))});return n;case"SET_USERS":return Object(u.a)(Object(u.a)({},e),{},{users:Object(P.a)(t.users)});case"SET_CURRENT_PAGE":return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case"SET_FETCHING":return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFething});case"SET_TOTAL":return Object(u.a)(Object(u.a)({},e),{},{total:t.total});default:return e}},ve=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.userReducer.users})),s=Object(l.c)((function(e){return e.userReducer.currentPage})),c=Object(l.c)((function(e){return e.userReducer.isFetching})),a=Object(l.c)((function(e){return e.userReducer.total})),i=Object(l.c)((function(e){return e.userReducer.pageSize})),r=Math.ceil(a/i),o=Object(l.c)((function(e){return e.AuthReducer.isAuth}));Object(n.useEffect)((function(){e(function(e,t){return function(s){b(e,t).then((function(e){s(xe(e.items)),s({type:"SET_TOTAL",total:200}),s({type:"SET_FETCHING",isFething:!1})}))}}(s,r))}),[]);for(var u=[],j=1;j<=r;j++)u.push(j);var d=u.map((function(t){return Object(k.jsx)("li",{children:Object(k.jsx)("a",{onClick:function(){return function(t){e(function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}}(t)),h(t,r).then((function(t){e(xe(t.items))}))}(t)},className:"page-link",href:"#",children:t})})}));return o?Object(k.jsx)("div",{children:!0===c?Object(k.jsx)("div",{className:he.a.loader,children:Object(k.jsx)(ee,{})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("ul",{className:"pagination justify-content-center",children:d}),Object(k.jsx)(me,{users:t,fallowFn:function(t){f(t).then((function(s){0===s.resultCode&&e(function(e){return{type:"FALLOW",id:e}}(t))}))},unfallowFn:function(t){O(t).then((function(s){0===s.resultCode&&e(function(e){return{type:"UNFALLOW",id:e}}(t))}))}})]})}):Object(k.jsx)(te.a,{to:"/login"})},_e=s(28),Ne=s.n(_e);function Se(){var e,t,s=Object(l.b)(),n=Object(l.c)((function(e){return e.AuthReducer.isAuth})),c=Object(H.a)(),a=c.register,i=c.reset,r=c.formState.errors,o=c.handleSubmit;return!0===n?Object(k.jsx)(te.a,{to:"profile"}):Object(k.jsxs)("form",{className:Ne.a.login,onSubmit:o((function(e){console.log(e),s(w(e.login,e.password,e.remember)),i()})),children:[Object(k.jsx)("div",{className:r?Ne.a.error:"",children:Object(k.jsx)("input",Object(u.a)({placeholder:"Login"},a("login",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e",minLength:{value:5,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},maxLength:{value:35,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}})))}),Object(k.jsx)("div",{children:(null===r||void 0===r?void 0:r.login)&&Object(k.jsx)("p",{children:null===r||void 0===r||null===(e=r.login)||void 0===e?void 0:e.message})}),Object(k.jsx)("div",{children:Object(k.jsx)("input",Object(u.a)({type:"password",placeholder:"Password"},a("password",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e",minLength:{value:5,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},maxLength:20})))}),Object(k.jsx)("div",{children:(null===r||void 0===r?void 0:r.password)&&Object(k.jsx)("p",{children:null===r||void 0===r||null===(t=r.password)||void 0===t?void 0:t.message})}),Object(k.jsxs)("div",{className:Ne.a.check,children:[Object(k.jsx)("input",Object(u.a)({type:"checkbox"},a("remember"))),Object(k.jsx)("span",{children:"Remember me"})]}),Object(k.jsx)("input",{value:"\u0412\u043e\u0439\u0442\u0438",type:"submit"})]})}var we=function(){return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(A,{}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-3 fixed-left",children:Object(k.jsx)(y,{})}),Object(k.jsxs)("div",{className:"col-6",children:[Object(k.jsx)(te.b,{path:"/profile/:userId?",render:function(){return Object(k.jsx)(se,{})}}),Object(k.jsx)(te.b,{path:"/messages",render:function(){return Object(k.jsx)(fe,{})}}),Object(k.jsx)(te.b,{path:"/users",render:function(){return Object(k.jsx)(ve,{})}}),Object(k.jsx)(te.b,{path:"/login",render:function(){return Object(k.jsx)(Se,{})}})]}),Object(k.jsx)("div",{className:"col-3"})]})]})},ke=s(29),Ae=s(52),Te=Object(ke.b)({profileReducer:F,dialogReducer:ce,userReducer:ge,AuthReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;return"SET_USER_DATA"===t.type?Object(u.a)(Object(u.a)({},e),t.data):e}}),Ee=Object(ke.c)(Te,Object(ke.a)(Ae.a)),ye=function(){a.a.render(Object(k.jsx)(o.a,{children:Object(k.jsx)(l.a,{store:Ee,children:Object(k.jsx)(we,{})})}),document.getElementById("root"))};ye(),Ee.subscribe((function(){ye()}))},9:function(e,t,s){e.exports={nav:"SideBar_nav__28ewa",ul:"SideBar_ul__2eOnI",li:"SideBar_li__2-BPu",active:"SideBar_active__Q4w7w"}}},[[85,1,2]]]);
//# sourceMappingURL=main.1ea50de9.chunk.js.map